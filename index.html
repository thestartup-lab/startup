<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="theme-color" content="#1e40af">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>å‰µæ¥­äººæ ¼å¿ƒç†æ¸¬é©—</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft JhengHei", sans-serif;
            background: linear-gradient(135deg, #1e3a8a 0%, #312e81 100%);
            min-height: 100vh;
            padding: 20px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        html {
            scroll-behavior: smooth;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 24px;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.35);
            overflow: hidden;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header {
            background: linear-gradient(135deg, #1e40af 0%, #4c1d95 100%);
            color: white;
            padding: 50px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0%, 100% { transform: translateX(-100%); }
            50% { transform: translateX(100%); }
        }

        .header h1 {
            font-size: 2.25rem;
            margin-bottom: 12px;
            font-weight: 700;
            letter-spacing: -0.5px;
            position: relative;
            z-index: 1;
        }

        .header p {
            opacity: 0.95;
            font-size: 1.15rem;
            font-weight: 300;
            position: relative;
            z-index: 1;
        }

        .content {
            padding: 50px 40px;
        }

        .intro-section {
            margin-bottom: 30px;
        }

        .intro-section h2 {
            margin-bottom: 25px;
            color: #111827;
            font-size: 1.75rem;
            font-weight: 600;
        }

        .type-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .type-card {
            background: linear-gradient(145deg, #ffffff 0%, #f9fafb 100%);
            padding: 24px;
            border-radius: 16px;
            border: 1px solid #e5e7eb;
            border-left: 5px solid;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }

        .type-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.15);
        }

        .type-card.type-a { border-left-color: #f59e0b; }
        .type-card.type-b { border-left-color: #10b981; }
        .type-card.type-c { border-left-color: #3b82f6; }
        .type-card.type-d { border-left-color: #ec4899; }

        .type-card h3 {
            font-size: 0.875rem;
            color: #9ca3af;
            margin-bottom: 8px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .type-card .name {
            font-size: 1.25rem;
            font-weight: 700;
            color: #111827;
            margin-bottom: 10px;
            line-height: 1.3;
        }

        .type-card .trait {
            font-size: 0.9rem;
            color: #6b7280;
            line-height: 1.5;
        }

        .quiz-section {
            display: none;
        }

        .progress-bar {
            background: #e5e7eb;
            height: 8px;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #1e40af, #6366f1);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        .question {
            background: linear-gradient(145deg, #ffffff 0%, #f9fafb 100%);
            padding: 30px;
            border-radius: 16px;
            margin-bottom: 24px;
            border: 1px solid #e5e7eb;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        .question h3 {
            color: #111827;
            margin-bottom: 20px;
            font-size: 1.15rem;
            line-height: 1.7;
            font-weight: 600;
        }

        .question-number {
            display: inline-block;
            background: #1e40af;
            color: white;
            padding: 2px 10px;
            border-radius: 12px;
            font-size: 0.85rem;
            margin-right: 8px;
            font-weight: 500;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            background: white;
            padding: 18px 20px;
            border-radius: 12px;
            border: 2px solid #e5e7eb;
            cursor: pointer;
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            display: flex;
            align-items: center;
            user-select: none;
            -webkit-user-select: none;
        }

        .option:hover {
            border-color: #3b82f6;
            transform: translateX(8px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
        }

        .option input[type="radio"] {
            margin-right: 12px;
            cursor: pointer;
            width: 18px;
            height: 18px;
            accent-color: #1e40af;
            flex-shrink: 0;
        }

        .option input[type="radio"]:checked ~ label {
            font-weight: 600;
            color: #1e40af;
        }

        .option:has(input[type="radio"]:checked) {
            border-color: #1e40af;
            background: linear-gradient(145deg, #eff6ff 0%, #dbeafe 100%);
            box-shadow: 0 4px 12px rgba(30, 64, 175, 0.2);
        }

        .option label {
            cursor: pointer;
            display: flex;
            align-items: center;
            line-height: 1.5;
            flex: 1;
            width: 100%;
        }

        .btn {
            background: linear-gradient(135deg, #1e40af 0%, #4c1d95 100%);
            color: white;
            border: none;
            padding: 18px 40px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            width: 100%;
            margin-top: 24px;
            box-shadow: 0 10px 25px rgba(30, 64, 175, 0.3);
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(30, 64, 175, 0.4);
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .result-section {
            display: none;
            animation: slideIn 0.5s ease-out;
        }

        .result-box {
            background: linear-gradient(135deg, #1e40af 0%, #4c1d95 100%);
            color: white;
            padding: 50px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 35px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(30, 64, 175, 0.3);
        }

        .result-box::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
        }

        .result-box h2 {
            font-size: 2.25rem;
            margin-bottom: 12px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }

        .result-box .subtitle {
            font-size: 1.25rem;
            opacity: 0.95;
            margin-bottom: 20px;
            font-weight: 300;
            position: relative;
            z-index: 1;
        }

        .result-details {
            background: linear-gradient(145deg, #ffffff 0%, #f9fafb 100%);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 24px;
            border: 1px solid #e5e7eb;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        .result-details h3 {
            color: #111827;
            margin-bottom: 20px;
            font-size: 1.35rem;
            font-weight: 600;
        }

        .result-details p {
            color: #4b5563;
            line-height: 1.8;
            margin-bottom: 15px;
            font-size: 1.05rem;
        }

        .score-bar {
            margin: 25px 0;
        }

        .score-item {
            margin-bottom: 20px;
        }

        .score-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.95rem;
            color: #4b5563;
            font-weight: 500;
        }

        .bar {
            background: #e5e7eb;
            height: 28px;
            border-radius: 14px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.06);
        }

        .bar-fill {
            height: 100%;
            border-radius: 14px;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 12px;
            color: white;
            font-size: 0.9rem;
            font-weight: 700;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }

        .bar-fill.type-a {
            background: linear-gradient(90deg, #f59e0b, #fbbf24);
            box-shadow: 0 2px 12px rgba(245, 158, 11, 0.4);
        }
        .bar-fill.type-b {
            background: linear-gradient(90deg, #10b981, #34d399);
            box-shadow: 0 2px 12px rgba(16, 185, 129, 0.4);
        }
        .bar-fill.type-c {
            background: linear-gradient(90deg, #3b82f6, #60a5fa);
            box-shadow: 0 2px 12px rgba(59, 130, 246, 0.4);
        }
        .bar-fill.type-d {
            background: linear-gradient(90deg, #ec4899, #f472b6);
            box-shadow: 0 2px 12px rgba(236, 72, 153, 0.4);
        }

        .note {
            background: linear-gradient(145deg, #fef3c7, #fde68a);
            border-left: 5px solid #f59e0b;
            padding: 18px 20px;
            border-radius: 12px;
            margin: 25px 0;
            color: #92400e;
            font-size: 0.95rem;
            line-height: 1.6;
            box-shadow: 0 2px 8px rgba(245, 158, 11, 0.1);
        }

        .note strong {
            color: #78350f;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            body {
                padding: 12px;
            }

            .container {
                border-radius: 20px;
            }

            .header {
                padding: 40px 28px;
            }

            .header h1 {
                font-size: 1.85rem;
            }

            .header p {
                font-size: 1.05rem;
            }

            .content {
                padding: 35px 24px;
            }

            .intro-section h2 {
                font-size: 1.6rem;
            }

            .type-cards {
                grid-template-columns: 1fr;
                gap: 16px;
            }

            .type-card {
                padding: 20px;
            }

            .question {
                padding: 24px 20px;
                margin-bottom: 20px;
            }

            .question h3 {
                font-size: 1.08rem;
                margin-bottom: 18px;
            }

            .option {
                padding: 16px 18px;
            }

            .result-box {
                padding: 40px 28px;
            }

            .result-box h2 {
                font-size: 1.85rem;
            }

            .result-details {
                padding: 28px 24px;
            }

            .btn {
                padding: 17px 32px;
                font-size: 1.05rem;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 8px;
            }

            .container {
                border-radius: 16px;
            }

            .header {
                padding: 32px 20px;
            }

            .header h1 {
                font-size: 1.5rem;
                line-height: 1.3;
            }

            .header p {
                font-size: 0.95rem;
            }

            .content {
                padding: 28px 18px;
            }

            .intro-section h2 {
                font-size: 1.35rem;
                margin-bottom: 20px;
            }

            .type-cards {
                gap: 14px;
                margin: 20px 0;
            }

            .type-card {
                padding: 18px;
            }

            .type-card h3 {
                font-size: 0.8rem;
            }

            .type-card .name {
                font-size: 1.1rem;
            }

            .type-card .trait {
                font-size: 0.85rem;
            }

            .type-card:hover {
                transform: translateY(-4px) scale(1);
            }

            .progress-bar {
                height: 6px;
                margin-bottom: 24px;
            }

            .question {
                padding: 20px 16px;
                margin-bottom: 16px;
            }

            .question h3 {
                font-size: 1rem;
                margin-bottom: 16px;
                line-height: 1.6;
            }

            .question-number {
                font-size: 0.75rem;
                padding: 2px 8px;
                margin-right: 6px;
            }

            .options {
                gap: 10px;
            }

            .option {
                padding: 14px 16px;
            }

            .option:hover {
                transform: translateX(4px);
            }

            .option input[type="radio"] {
                width: 16px;
                height: 16px;
                margin-right: 10px;
            }

            .option label {
                font-size: 0.95rem;
                line-height: 1.4;
            }

            .result-box {
                padding: 32px 20px;
                border-radius: 16px;
                margin-bottom: 24px;
            }

            .result-box h2 {
                font-size: 1.5rem;
                margin-bottom: 10px;
            }

            .result-box .subtitle {
                font-size: 1.05rem;
            }

            .result-details {
                padding: 24px 18px;
                border-radius: 14px;
                margin-bottom: 18px;
            }

            .result-details h3 {
                font-size: 1.2rem;
                margin-bottom: 16px;
            }

            .result-details p {
                font-size: 0.95rem;
                line-height: 1.7;
            }

            .score-bar {
                margin: 20px 0;
            }

            .score-item {
                margin-bottom: 16px;
            }

            .score-label {
                font-size: 0.85rem;
                margin-bottom: 6px;
            }

            .bar {
                height: 24px;
            }

            .bar-fill {
                font-size: 0.8rem;
                padding-right: 8px;
            }

            .note {
                padding: 16px 18px;
                font-size: 0.9rem;
                margin: 20px 0;
            }

            .btn {
                padding: 15px 28px;
                font-size: 1rem;
                margin-top: 20px;
                border-radius: 10px;
            }

            .btn:hover {
                transform: translateY(-2px);
            }
        }

        /* è§¸æ‘¸è¨­å‚™å„ªåŒ– */
        @media (hover: none) and (pointer: coarse) {
            .option {
                padding: 16px 18px;
                min-height: 48px;
            }

            .option:hover {
                transform: none;
                border-color: #e5e7eb;
            }

            .option:active {
                background: #f3f4f6;
                transform: scale(0.98);
            }

            .type-card:hover {
                transform: none;
            }

            .type-card:active {
                transform: scale(0.98);
            }

            .btn:hover {
                transform: none;
                box-shadow: 0 10px 25px rgba(30, 64, 175, 0.3);
            }

            .btn:active {
                transform: scale(0.98);
            }

            /* ç¦ç”¨å‹•ç•«ä»¥æå‡è§¸æ‘¸è¨­å‚™æ€§èƒ½ */
            .header::before {
                animation: none;
            }

            .btn::before {
                animation: none;
            }
        }

        /* æ©«å±æ¨¡å¼å„ªåŒ– */
        @media (max-width: 896px) and (orientation: landscape) {
            .header {
                padding: 28px 30px;
            }

            .header h1 {
                font-size: 1.5rem;
            }

            .header p {
                font-size: 0.95rem;
            }

            .content {
                padding: 32px 28px;
            }

            .question {
                padding: 20px;
            }

            .result-box {
                padding: 32px 28px;
            }
        }

        /* æ¥µå°è¢å¹•å„ªåŒ– (iPhone SE ç­‰) */
        @media (max-width: 375px) {
            .header h1 {
                font-size: 1.35rem;
            }

            .header p {
                font-size: 0.9rem;
            }

            .intro-section h2 {
                font-size: 1.25rem;
            }

            .type-card {
                padding: 16px;
            }

            .type-card .name {
                font-size: 1.05rem;
            }

            .question h3 {
                font-size: 0.95rem;
            }

            .question-number {
                font-size: 0.7rem;
                padding: 1px 6px;
            }

            .option {
                padding: 12px 14px;
            }

            .option label {
                font-size: 0.9rem;
            }

            .result-box h2 {
                font-size: 1.35rem;
            }

            .result-details h3 {
                font-size: 1.1rem;
            }

            .result-details p {
                font-size: 0.9rem;
            }
        }

        /* ç®¡ç†æ¨¡å¼æ¨£å¼ */
        .admin-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 9999;
            backdrop-filter: blur(8px);
        }

        .admin-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.5);
            z-index: 10000;
        }

        .admin-modal h2 {
            color: #111827;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.75rem;
        }

        .admin-modal input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-size: 1.1rem;
            margin-bottom: 20px;
            transition: border-color 0.3s;
        }

        .admin-modal input:focus {
            outline: none;
            border-color: #1e40af;
        }

        .admin-modal .btn-group {
            display: flex;
            gap: 12px;
        }

        .admin-modal .btn {
            flex: 1;
            margin: 0;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);
        }

        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: white;
            z-index: 9998;
            overflow-y: auto;
            padding: 40px 20px;
        }

        .admin-header {
            max-width: 1200px;
            margin: 0 auto 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: linear-gradient(135deg, #1e40af 0%, #4c1d95 100%);
            border-radius: 16px;
            color: white;
        }

        .admin-header h2 {
            margin: 0;
            font-size: 1.75rem;
        }

        .admin-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .question-item {
            background: linear-gradient(145deg, #ffffff 0%, #f9fafb 100%);
            border: 1px solid #e5e7eb;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        .question-item input,
        .question-item textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 1rem;
            margin-bottom: 12px;
            font-family: inherit;
        }

        .question-item input:focus,
        .question-item textarea:focus {
            outline: none;
            border-color: #1e40af;
        }

        .question-item textarea {
            resize: vertical;
            min-height: 60px;
        }

        .option-input-group {
            display: grid;
            grid-template-columns: 60px 1fr 140px;
            gap: 10px;
            align-items: center;
            margin-bottom: 10px;
        }

        .option-input-group label {
            font-weight: 600;
            color: #4b5563;
        }

        .option-input-group select {
            padding: 8px 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 0.95rem;
            cursor: pointer;
            background: white;
        }

        .option-input-group select:focus {
            outline: none;
            border-color: #1e40af;
        }

        .btn-danger {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
        }

        .btn-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .admin-actions {
            display: flex;
            gap: 12px;
            margin-top: 16px;
        }

        .admin-actions .btn {
            flex: 1;
            margin: 0;
            padding: 12px 20px;
            font-size: 0.95rem;
        }

        .sync-panel {
            max-width: 1200px;
            margin: 20px auto;
            padding: 24px;
            background: linear-gradient(145deg, #eff6ff 0%, #dbeafe 100%);
            border: 2px solid #3b82f6;
            border-radius: 16px;
        }

        .sync-panel h3 {
            color: #1e40af;
            margin-bottom: 16px;
            font-size: 1.3rem;
        }

        .sync-panel .input-group {
            margin-bottom: 16px;
        }

        .sync-panel label {
            display: block;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
        }

        .sync-panel input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 1rem;
        }

        .sync-panel input:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .sync-panel .btn-group {
            display: flex;
            gap: 12px;
            margin-top: 16px;
        }

        .sync-panel .btn-group .btn {
            flex: 1;
            margin: 0;
        }

        .sync-status {
            padding: 12px 16px;
            border-radius: 10px;
            margin-top: 16px;
            font-size: 0.95rem;
        }

        .sync-status.success {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #10b981;
        }

        .sync-status.error {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #dc2626;
        }

        .sync-status.info {
            background: #dbeafe;
            color: #1e40af;
            border: 1px solid #3b82f6;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŒªï¸ å‰µæ¥­äººæ ¼å¿ƒç†æ¸¬é©—</h1>
            <p>ä½ æ˜¯å“ªä¸€ç¨®å‰µæ¥­è€…ï¼Ÿ</p>
            <button onclick="showAdminLogin()" style="position: absolute; top: 20px; right: 20px; background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3); color: white; padding: 8px 16px; border-radius: 8px; cursor: pointer; font-size: 0.9rem; transition: all 0.3s;">ğŸ” ç®¡ç†</button>
        </div>

        <div class="content">
            <!-- ä»‹ç´¹éƒ¨åˆ† -->
            <div class="intro-section" id="intro">
                <div style="text-align: center; padding: 40px 20px;">
                    <h2 style="font-size: 2rem; margin-bottom: 20px; color: #111827; font-weight: 700;">æ¯å€‹å‰µæ¥­è€…éƒ½æœ‰ç¨ç‰¹çš„è¶…èƒ½åŠ›</h2>
                    <p style="font-size: 1.2rem; line-height: 1.8; color: #4b5563; max-width: 600px; margin: 0 auto 30px;">
                        ç™¼ç¾ä½ çš„å‰µæ¥­äººæ ¼ï¼Œæ”¾å¤§ä½ çš„å¤©è³¦å„ªå‹¢ï¼Œ<br>æ‰¾åˆ°æœ€é©åˆä½ çš„å¤¥ä¼´çµ„åˆã€‚
                    </p>
                    <div style="display: flex; justify-content: center; gap: 20px; margin: 40px 0; flex-wrap: wrap;">
                        <div style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 8px;">âœ¨</div>
                            <div style="color: #6b7280; font-size: 0.9rem;">é¡˜æ™¯é©…å‹•</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 8px;">ğŸ”¨</div>
                            <div style="color: #6b7280; font-size: 0.9rem;">åŸ·è¡Œç‚ºç‹</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 8px;">ğŸ¯</div>
                            <div style="color: #6b7280; font-size: 0.9rem;">ç­–ç•¥åˆ¶å‹</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 8px;">ğŸ¤</div>
                            <div style="color: #6b7280; font-size: 0.9rem;">é—œä¿‚å–å‹</div>
                        </div>
                    </div>
                </div>

                <button class="btn" onclick="startQuiz()">é–‹å§‹æ¸¬é©—</button>
            </div>

            <!-- æ¸¬é©—éƒ¨åˆ† -->
            <div class="quiz-section" id="quiz">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressBar"></div>
                </div>
                <form id="quizForm">
                    <div class="question">
                        <h3><span class="question-number">Q1</span>å‰µæ¥­åˆæœŸï¼Œä½ æœ€å…ˆæƒ³åˆ°çš„æ˜¯ï¼š</h3>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q1" value="A" id="q1a">
                                <label for="q1a">æƒ³åƒå“ç‰Œå½¢è±¡å’Œæ•…äº‹</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q1" value="B" id="q1b">
                                <label for="q1b">å…ˆæ‰¾è¾¦å…¬å®¤å’Œçµ„åœ˜éšŠ</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q1" value="C" id="q1c">
                                <label for="q1c">è¨­å®šé•·æœŸç­–ç•¥èˆ‡é¢¨éšªé æ¡ˆ</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q1" value="D" id="q1d">
                                <label for="q1d">æƒ³åˆ°èª°èƒ½å¹«æˆ‘æ‹‰æŠ•è³‡æˆ–å®£å‚³</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h3><span class="question-number">Q2</span>ä½ é¢å°è³‡é‡‘çŸ­ç¼ºæ™‚æœƒï¼š</h3>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q2" value="A" id="q2a">
                                <label for="q2a">åšå‡ºæ–°ä¼åŠƒå¸å¼•äººæ”¯æŒ</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q2" value="B" id="q2b">
                                <label for="q2b">ç«‹åˆ»å‰Šæ¸›æˆæœ¬æ’ä½ç¾é‡‘æµ</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q2" value="C" id="q2c">
                                <label for="q2c">é‡æ–°è¨ˆç®—æ¨¡å‹ã€æ”¹è®Šå•†æ¥­æ¨¡å¼</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q2" value="D" id="q2d">
                                <label for="q2d">å‹•å“¡äººè„ˆæ‹‰è´ŠåŠ©æˆ–åˆå¤¥</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h3><span class="question-number">Q3</span>åœ˜éšŠè£¡å‡ºç¾ç´›çˆ­æ™‚ä½ é€šå¸¸ï¼š</h3>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q3" value="A" id="q3a">
                                <label for="q3a">ç”¨é¡˜æ™¯æ¿€å‹µå¤§å®¶å†·éœä¸‹ä¾†</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q3" value="B" id="q3b">
                                <label for="q3b">è¦ªè‡ªä»‹å…¥ã€åˆ†å·¥æ˜ç¢ºè§£æ±ºå•é¡Œ</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q3" value="C" id="q3c">
                                <label for="q3c">è§€å¯Ÿå¾Œå†åšç²¾æº–èª¿æ•´</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q3" value="D" id="q3d">
                                <label for="q3d">é–‹èŠå–å’–å•¡ã€è®“æ°£æ°›åŒ–è§£çŸ›ç›¾</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h3><span class="question-number">Q4</span>ä½ æœ€äº«å—å‰µæ¥­çš„å“ªä¸€éƒ¨åˆ†ï¼Ÿ</h3>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q4" value="A" id="q4a">
                                <label for="q4a">å‰µé€ æ–°çš„å“ç‰Œæ¦‚å¿µ</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q4" value="B" id="q4b">
                                <label for="q4b">å¯¦éš›çœ‹åˆ°ç”¢å“å®Œæˆ</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q4" value="C" id="q4c">
                                <label for="q4c">æŠŠå¸‚å ´ç­–ç•¥ç©åˆ°æ¥µè‡´</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q4" value="D" id="q4d">
                                <label for="q4d">èˆ‡äººå»ºç«‹é€£çµã€æ‹“å±•åœˆå­</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h3><span class="question-number">Q5</span>æŠ•è³‡äººå•ä½ æœªä¾†ä¸‰å¹´è¨ˆç•«ï¼š</h3>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q5" value="A" id="q5a">
                                <label for="q5a">æè¿°ç†æƒ³ä¸–ç•Œå’Œå…¬å¸é¡˜æ™¯</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q5" value="B" id="q5b">
                                <label for="q5b">æ‹¿å‡ºå®Œæ•´é‡Œç¨‹ç¢‘å’ŒKPI</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q5" value="C" id="q5c">
                                <label for="q5c">å±•ç¤ºExcelæ¨¡å‹å’Œé¢¨éšªåˆ†æ</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q5" value="D" id="q5d">
                                <label for="q5d">å¼·èª¿åˆä½œå¤¥ä¼´èˆ‡å¸‚å ´æ©Ÿæœƒ</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h3><span class="question-number">Q6</span>é¢å°å¤±æ•—ï¼Œä½ æœƒï¼š</h3>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q6" value="A" id="q6a">
                                <label for="q6a">ç•¶ä½œæ•…äº‹çš„ä¸€éƒ¨åˆ†ï¼Œç¹¼çºŒå®£å‚³</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q6" value="B" id="q6b">
                                <label for="q6b">å¿«é€Ÿæ­¸ç´å•é¡Œã€ç«‹åˆ»å†è©¦</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q6" value="C" id="q6c">
                                <label for="q6c">å¯«å ±å‘Šåˆ†æåŸå› ,ä¸‹æ¬¡é¿é–‹</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q6" value="D" id="q6d">
                                <label for="q6d">è·Ÿæœ‹å‹èšæœƒåè‹¦æ°´ï¼Œé †ä¾¿æ‰¾æ–°æ©Ÿæœƒ</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h3><span class="question-number">Q7</span>è‹¥ä½ èƒ½é›‡ä¸€å€‹äººå¹«å¿™ï¼Œæœƒé¸ï¼š</h3>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q7" value="A" id="q7a">
                                <label for="q7a">è¨­è¨ˆå¸«æˆ–å“ç‰Œé¡§å•</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q7" value="B" id="q7b">
                                <label for="q7b">ç‡Ÿé‹é•·æˆ–å°ˆæ¡ˆç¶“ç†</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q7" value="C" id="q7c">
                                <label for="q7c">è²¡å‹™æˆ–ç­–ç•¥é¡§å•</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q7" value="D" id="q7d">
                                <label for="q7d">å…¬é—œæˆ–ç¤¾ç¾¤ç¶“ç†</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h3><span class="question-number">Q8</span>ä½ å°ã€Œå‰µæ¥­æˆåŠŸã€çš„å®šç¾©æ˜¯ï¼š</h3>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q8" value="A" id="q8a">
                                <label for="q8a">æ”¹è®Šä¸–ç•Œã€ç•™ä¸‹åå­—</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q8" value="B" id="q8b">
                                <label for="q8b">å…¬å¸ç©©å®šã€å“¡å·¥å¹¸ç¦</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q8" value="C" id="q8c">
                                <label for="q8c">ç²¾æº–æ§åˆ¶å¸‚å ´èˆ‡æˆé•·æ›²ç·š</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q8" value="D" id="q8d">
                                <label for="q8d">æœ‰å½±éŸ¿åŠ›ã€èªè­˜è¨±å¤šå²å®³çš„äºº</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h3><span class="question-number">Q9</span>ç•¶ä½ æ§‹æƒ³æ–°ç”¢å“ï¼š</h3>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q9" value="A" id="q9a">
                                <label for="q9a">å¾ã€Œé€™æ±è¥¿æœƒå¤šå¸å¼•äººã€é–‹å§‹</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q9" value="B" id="q9b">
                                <label for="q9b">å¾ã€Œæ€éº¼ç”Ÿç”¢æœ€æœ‰æ•ˆç‡ã€é–‹å§‹</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q9" value="C" id="q9c">
                                <label for="q9c">å¾ã€Œå¸‚å ´ç¼ºå£åœ¨å“ªã€é–‹å§‹</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q9" value="D" id="q9d">
                                <label for="q9d">å¾ã€Œæˆ‘èƒ½æ‰¾èª°åˆä½œã€é–‹å§‹</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h3><span class="question-number">Q10</span>ä½ å–œæ­¡çš„å·¥ä½œç’°å¢ƒï¼š</h3>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q10" value="A" id="q10a">
                                <label for="q10a">å……æ»¿å‰µæ„èˆ‡è‡ªç”±</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q10" value="B" id="q10b">
                                <label for="q10b">æ¢ç†åˆ†æ˜ã€é€²åº¦æ˜ç¢º</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q10" value="C" id="q10c">
                                <label for="q10c">å®‰éœã€å¯æ€è€ƒèˆ‡åˆ†æ</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q10" value="D" id="q10d">
                                <label for="q10d">ç†±é¬§ã€æœ‰å¾ˆå¤šäººäº’å‹•</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h3><span class="question-number">Q11</span>ç•¶åˆ¥äººæ‰¹è©•ä½ çš„é»å­ï¼š</h3>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q11" value="A" id="q11a">
                                <label for="q11a">è¦ºå¾—ä»–å€‘ä¸æ‡‚å¤¢æƒ³</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q11" value="B" id="q11b">
                                <label for="q11b">è¨˜ä¸‹ä¾†æ”¹é€²</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q11" value="C" id="q11c">
                                <label for="q11c">å•ã€Œä¾æ“šæ˜¯ä»€éº¼ï¼Ÿã€</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q11" value="D" id="q11d">
                                <label for="q11d">å˜—è©¦å¾ä»–èº«ä¸Šæ‰¾æ”¯æŒ</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h3><span class="question-number">Q12</span>ä½ çš„æœ€å¤§å„ªå‹¢æ˜¯ï¼š</h3>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q12" value="A" id="q12a">
                                <label for="q12a">æ¿€å‹µäººã€è®“äººç›¸ä¿¡</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q12" value="B" id="q12b">
                                <label for="q12b">åŸ·è¡Œå¿«ã€æœ‰ç´€å¾‹</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q12" value="C" id="q12c">
                                <label for="q12c">çœ‹å¾—é ã€åˆ†ææº–</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q12" value="D" id="q12d">
                                <label for="q12d">äººè„ˆå»£ã€æœƒè¬›è©±</label>
                            </div>
                        </div>
                    </div>

                    <button type="button" class="btn" onclick="calculateResult()">æŸ¥çœ‹çµæœ</button>
                </form>
            </div>

            <!-- çµæœéƒ¨åˆ† -->
            <div class="result-section" id="result">
                <div class="result-box">
                    <h2 id="resultType"></h2>
                    <div class="subtitle" id="resultSubtitle"></div>
                </div>

                <div class="result-details">
                    <h3>ğŸ“Š ä½ çš„åˆ†æ•¸åˆ†å¸ƒ</h3>
                    <div class="score-bar" id="scoreBar"></div>
                </div>

                <div class="result-details">
                    <h3>ğŸ’¡ é¡å‹è§£æ</h3>
                    <div id="typeDescription"></div>
                </div>

                <button class="btn" onclick="resetQuiz()">é‡æ–°æ¸¬é©—</button>
            </div>
        </div>
    </div>

    <!-- ç®¡ç†æ¨¡å¼ UI -->
    <div class="admin-overlay" id="adminOverlay">
        <div class="admin-modal">
            <h2>ğŸ” ç®¡ç†å“¡ç™»å…¥</h2>
            <input type="password" id="adminPassword" placeholder="è«‹è¼¸å…¥å¯†ç¢¼" autocomplete="off">
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="closeAdminLogin()">å–æ¶ˆ</button>
                <button class="btn" onclick="verifyAdminPassword()">ç¢ºèª</button>
            </div>
        </div>
    </div>

    <div class="admin-panel" id="adminPanel">
        <div class="admin-header">
            <h2>ğŸ“ é¡Œç›®ç®¡ç†ç³»çµ±</h2>
            <div style="display: flex; gap: 12px;">
                <button class="btn btn-danger" onclick="resetToDefault()" style="margin: 0; padding: 12px 20px; font-size: 0.9rem;">ğŸ”„ é‡ç½®ç‚ºé è¨­</button>
                <button class="btn btn-secondary" onclick="exitAdminMode()" style="margin: 0; padding: 12px 24px;">é€€å‡ºç®¡ç†</button>
            </div>
        </div>

        <!-- å¯†ç¢¼ä¿®æ”¹å€ -->
        <div class="sync-panel" style="background: linear-gradient(145deg, #fef3c7 0%, #fde68a 100%); border-color: #f59e0b;">
            <h3 style="color: #92400e;">ğŸ”’ ä¿®æ”¹ç®¡ç†å¯†ç¢¼</h3>
            <div style="padding: 12px 16px; background: rgba(146, 64, 14, 0.1); border-radius: 8px; margin-bottom: 16px; font-size: 0.9rem; color: #92400e;">
                âš ï¸ <strong>æ³¨æ„ï¼š</strong>å¿…é ˆå…ˆè¨­å®š GitHub Token å’Œ Gist ID æ‰èƒ½ä¿®æ”¹å¯†ç¢¼ã€‚è‹¥æœªè¨­å®š Gistï¼Œå¯†ç¢¼å°‡å›ºå®šç‚ºé è¨­å€¼ <code style="background: rgba(0,0,0,0.1); padding: 2px 6px; border-radius: 4px; font-weight: 600;">12345</code>
            </div>
            <div class="input-group">
                <label for="currentPassword">ç•¶å‰å¯†ç¢¼</label>
                <input type="password" id="currentPassword" placeholder="è«‹è¼¸å…¥ç•¶å‰å¯†ç¢¼" autocomplete="off">
            </div>
            <div class="input-group">
                <label for="newPassword">æ–°å¯†ç¢¼</label>
                <input type="password" id="newPassword" placeholder="è«‹è¼¸å…¥æ–°å¯†ç¢¼" autocomplete="off">
            </div>
            <div class="input-group">
                <label for="confirmPassword">ç¢ºèªæ–°å¯†ç¢¼</label>
                <input type="password" id="confirmPassword" placeholder="å†æ¬¡è¼¸å…¥æ–°å¯†ç¢¼" autocomplete="off">
            </div>
            <button class="btn" onclick="changeAdminPassword()" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); width: 100%; margin-top: 0;">ğŸ”‘ æ›´æ”¹å¯†ç¢¼</button>
            <div id="passwordStatus"></div>
        </div>

        <!-- GitHub Gist åŒæ­¥è¨­ç½® -->
        <div class="sync-panel">
            <h3>â˜ï¸ GitHub Gist é›²ç«¯åŒæ­¥</h3>
            <div class="input-group">
                <label for="githubToken">GitHub Personal Access Token</label>
                <input type="password" id="githubToken" placeholder="ghp_xxxxxxxxxxxxxxxxxxxx" autocomplete="off">
                <small style="color: #6b7280; font-size: 0.85rem; margin-top: 4px; display: block;">
                    éœ€è¦ 'gist' æ¬Šé™ã€‚<a href="https://github.com/settings/tokens/new?scopes=gist&description=Quiz%20Sync" target="_blank" style="color: #3b82f6;">é»æ­¤å‰µå»º Token</a>
                </small>
            </div>
            <div class="input-group">
                <label for="gistId">Gist ID (é¸å¡«ï¼Œç•™ç©ºå°‡è‡ªå‹•å‰µå»º)</label>
                <input type="text" id="gistId" placeholder="ä¾‹å¦‚: abc123def456..." autocomplete="off">
                <small style="color: #6b7280; font-size: 0.85rem; margin-top: 4px; display: block;">
                    é¦–æ¬¡ä½¿ç”¨è«‹ç•™ç©ºï¼Œç³»çµ±æœƒè‡ªå‹•å‰µå»ºä¸€å€‹ private gist
                </small>
            </div>
            <div class="btn-group">
                <button class="btn btn-success" onclick="saveGitHubConfig()">ğŸ’¾ å„²å­˜è¨­å®š</button>
                <button class="btn" onclick="pullFromGist()" style="background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);">â¬‡ï¸ å¾é›²ç«¯æ‹‰å–</button>
                <button class="btn" onclick="pushToGist()" style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);">â¬†ï¸ æ¨é€åˆ°é›²ç«¯</button>
            </div>
            <div id="syncStatus"></div>
        </div>

        <div style="max-width: 1200px; margin: 20px auto; padding: 16px 20px; background: #fef3c7; border-left: 5px solid #f59e0b; border-radius: 12px; color: #92400e; font-size: 0.95rem;">
            <strong>ğŸ’¡ æç¤ºï¼š</strong>ä½¿ç”¨ GitHub Gist åŒæ­¥å¾Œï¼Œé¡Œç›®å’Œç®¡ç†å¯†ç¢¼å°‡å„²å­˜åœ¨é›²ç«¯ã€‚ç¶²é é–‹å•Ÿæ™‚æœƒè‡ªå‹•å¾é›²ç«¯æ‹‰å–æœ€æ–°è³‡æ–™ã€‚ä¿®æ”¹é¡Œç›®å¾Œè¨˜å¾—æ¨é€åˆ°é›²ç«¯ï¼Œä¿®æ”¹å¯†ç¢¼æœƒè‡ªå‹•æ¨é€ã€‚
        </div>
        <div style="max-width: 1200px; margin: 20px auto; padding: 16px 20px; background: #dbeafe; border-left: 5px solid #3b82f6; border-radius: 12px; color: #1e40af; font-size: 0.95rem;">
            <strong>ğŸ”„ è‡ªå‹•åŒæ­¥æ©Ÿåˆ¶ï¼š</strong>
            <ul style="margin-top: 8px; margin-left: 20px; line-height: 1.8;">
                <li>æ¯æ¬¡é–‹å•Ÿç¶²é æ™‚ï¼Œæœƒè‡ªå‹•å¾é›²ç«¯æ‹‰å–æœ€æ–°é¡Œç›®å’Œå¯†ç¢¼</li>
                <li>åœ¨ç®¡ç†æ¨¡å¼ä¸­ä¿®æ”¹é¡Œç›®å¾Œï¼Œè«‹é»æ“Šã€Œå„²å­˜ã€ç„¶å¾Œã€Œæ¨é€åˆ°é›²ç«¯ã€</li>
                <li>å…¶ä»–äººé‡æ–°æ•´ç†ç¶²é å³å¯çœ‹åˆ°æœ€æ–°å…§å®¹</li>
            </ul>
        </div>
        <div style="max-width: 1200px; margin: 20px auto; padding: 16px 20px; background: #f3e8ff; border-left: 5px solid #a855f7; border-radius: 12px; color: #6b21a8; font-size: 0.95rem;">
            <strong>ğŸ¯ äººæ ¼é¡å‹é…ç½®ï¼š</strong>æ¯å€‹é¸é …å¯ä»¥ç¨ç«‹è¨­å®šå°æ‡‰çš„äººæ ¼é¡å‹ã€‚ä¾‹å¦‚ï¼šç¬¬1é¡Œçš„é¸é …Aå¯ä»¥å°æ‡‰ã€ŒB-å¯¦å¹¹å‹ã€ï¼Œä¸ä¸€å®šè¦å°æ‡‰ã€ŒA-å¤¢æƒ³å‹ã€ã€‚
        </div>
        <div class="admin-content" id="adminContent">
            <!-- é¡Œç›®åˆ—è¡¨å°‡å‹•æ…‹ç”Ÿæˆ -->
        </div>
        <div style="max-width: 1200px; margin: 30px auto;">
            <button class="btn btn-success" onclick="addNewQuestion()">â• æ–°å¢é¡Œç›®</button>
        </div>
    </div>

    <script>
        const typeInfo = {
            A: {
                name: 'å¤¢æƒ³å‹ Visionary',
                emoji: 'âœ¨',
                description: 'å–œæ­¡å‰µæ–°ã€è¬›æ•…äº‹ã€å‰µé€ æ½®æµã€‚å¤©ç”Ÿå“ç‰ŒæŒèˆµäººï¼Œä½†å¯èƒ½ç¼ºä¹ç´€å¾‹èˆ‡è²¡å‹™è€å¿ƒã€‚ä½ æ“…é•·ç”¨é¡˜æ™¯æ¿€å‹µä»–äººï¼Œå°‡æŠ½è±¡æ¦‚å¿µè½‰åŒ–ç‚ºä»¤äººèˆˆå¥®çš„æ•…äº‹ã€‚ä½ çš„å‰µæ„å’Œéˆæ„Ÿæ˜¯åœ˜éšŠçš„å¼•æ“ï¼Œä½†è¨˜å¾—è¦æ‰¾åˆ°å¯¦å¹¹å‹å¤¥ä¼´ä¾†å¹«ä½ è½åœ°åŸ·è¡Œã€‚'
            },
            B: {
                name: 'å¯¦å¹¹å‹ Builder',
                emoji: 'ğŸ”¨',
                description: 'è¡Œå‹•æ´¾ã€‚ä½ æœƒæ¯å¤©è®“å…¬å¸å‰é€²ä¸€é»ã€‚ç©©å®šã€å¯é ã€èƒ½æŠŠå¤¢æƒ³è®Šæˆç¾å¯¦ï¼Œä½†æœ‰æ™‚å¤ªä¿å®ˆã€‚ä½ æ˜¯åŸ·è¡Œå¤§å¸«ï¼Œæ“…é•·å°‡è¨ˆç•«è½‰åŒ–ç‚ºå…·é«”è¡Œå‹•ï¼Œä¸¦ç¢ºä¿æ¯å€‹ç´°ç¯€éƒ½åˆ°ä½ã€‚ä½ çš„ç´€å¾‹æ€§å’Œæ•ˆç‡æ˜¯å‰µæ¥­æˆåŠŸçš„é—œéµï¼Œä½†å¶çˆ¾ä¹Ÿè¦æ•¢æ–¼å†’éšªå‰µæ–°ã€‚'
            },
            C: {
                name: 'ç­–ç•¥å‹ Strategist',
                emoji: 'ğŸ¯',
                description: 'ç†æ€§æ´¾ä¼æ¥­å®¶ã€‚ä½ æ“…é•·è¦åŠƒèˆ‡é¢¨æ§ï¼Œä½†å®¹æ˜“é™·å…¥éåº¦åˆ†æã€‚é©åˆåšB2Bæˆ–å¤§å‹ç³»çµ±å‰µæ¥­ã€‚ä½ èƒ½çœ‹åˆ°åˆ¥äººçœ‹ä¸åˆ°çš„æ©Ÿæœƒå’Œé¢¨éšªï¼Œç”¨æ•¸æ“šå’Œé‚è¼¯åšæ±ºç­–ã€‚ä½ çš„åˆ†æèƒ½åŠ›æ˜¯å…¬å¸çš„æŒ‡å—é‡ï¼Œä½†è¨˜å¾—æœ‰æ™‚å€™è¡Œå‹•æ¯”å®Œç¾çš„è¨ˆç•«æ›´é‡è¦ã€‚'
            },
            D: {
                name: 'ç¤¾äº¤å‹ Connector',
                emoji: 'ğŸ¤',
                description: 'é é—œä¿‚èµ·é£›ï¼Œå°å¸‚å ´è„ˆå‹•æ•æ„Ÿã€‚ä½ æ˜¯å…¬é—œã€è¡ŒéŠ·ã€å•†æ¥­è¯ç›Ÿçš„éˆé­‚ï¼Œä½†å¯èƒ½ç¼ºä¹å°ˆæ³¨åŠ›ã€‚ä½ å¤©ç”Ÿæ“…é•·å»ºç«‹äººè„ˆï¼Œèƒ½å¿«é€Ÿæ‰¾åˆ°åˆé©çš„åˆä½œå¤¥ä¼´å’Œè³‡æºã€‚ä½ çš„ç¤¾äº¤èƒ½åŠ›èƒ½ç‚ºå…¬å¸æ‰“é–‹ç„¡æ•¸æ‰‡é–€ï¼Œä½†è¦è¨˜å¾—ä¿æŒå°ˆæ³¨ï¼Œä¸è¦è¢«å¤ªå¤šæ©Ÿæœƒåˆ†æ•£æ³¨æ„åŠ›ã€‚'
            }
        };

        // é»˜èªé¡Œç›®æ•¸æ“š
        const defaultQuestions = [
            {
                id: 1,
                text: "å‰µæ¥­åˆæœŸï¼Œä½ æœ€å…ˆæƒ³åˆ°çš„æ˜¯ï¼š",
                options: [
                    { value: "A", text: "æƒ³åƒå“ç‰Œå½¢è±¡å’Œæ•…äº‹", type: "A" },
                    { value: "B", text: "å…ˆæ‰¾è¾¦å…¬å®¤å’Œçµ„åœ˜éšŠ", type: "B" },
                    { value: "C", text: "è¨­å®šé•·æœŸç­–ç•¥èˆ‡é¢¨éšªé æ¡ˆ", type: "C" },
                    { value: "D", text: "æƒ³åˆ°èª°èƒ½å¹«æˆ‘æ‹‰æŠ•è³‡æˆ–å®£å‚³", type: "D" }
                ]
            },
            {
                id: 2,
                text: "ä½ é¢å°è³‡é‡‘çŸ­ç¼ºæ™‚æœƒï¼š",
                options: [
                    { value: "A", text: "åšå‡ºæ–°ä¼åŠƒå¸å¼•äººæ”¯æŒ", type: "A" },
                    { value: "B", text: "ç«‹åˆ»å‰Šæ¸›æˆæœ¬æ’ä½ç¾é‡‘æµ", type: "B" },
                    { value: "C", text: "é‡æ–°è¨ˆç®—æ¨¡å‹ã€æ”¹è®Šå•†æ¥­æ¨¡å¼", type: "C" },
                    { value: "D", text: "å‹•å“¡äººè„ˆæ‹‰è´ŠåŠ©æˆ–åˆå¤¥", type: "D" }
                ]
            },
            {
                id: 3,
                text: "åœ˜éšŠè£¡å‡ºç¾ç´›çˆ­æ™‚ä½ é€šå¸¸ï¼š",
                options: [
                    { value: "A", text: "ç”¨é¡˜æ™¯æ¿€å‹µå¤§å®¶å†·éœä¸‹ä¾†", type: "A" },
                    { value: "B", text: "è¦ªè‡ªä»‹å…¥ã€åˆ†å·¥æ˜ç¢ºè§£æ±ºå•é¡Œ", type: "B" },
                    { value: "C", text: "è§€å¯Ÿå¾Œå†åšç²¾æº–èª¿æ•´", type: "C" },
                    { value: "D", text: "é–‹èŠå–å’–å•¡ã€è®“æ°£æ°›åŒ–è§£çŸ›ç›¾", type: "D" }
                ]
            },
            {
                id: 4,
                text: "ä½ æœ€äº«å—å‰µæ¥­çš„å“ªä¸€éƒ¨åˆ†ï¼Ÿ",
                options: [
                    { value: "A", text: "å‰µé€ æ–°çš„å“ç‰Œæ¦‚å¿µ", type: "A" },
                    { value: "B", text: "å¯¦éš›çœ‹åˆ°ç”¢å“å®Œæˆ", type: "B" },
                    { value: "C", text: "æŠŠå¸‚å ´ç­–ç•¥ç©åˆ°æ¥µè‡´", type: "C" },
                    { value: "D", text: "èˆ‡äººå»ºç«‹é€£çµã€æ‹“å±•åœˆå­", type: "D" }
                ]
            },
            {
                id: 5,
                text: "æŠ•è³‡äººå•ä½ æœªä¾†ä¸‰å¹´è¨ˆç•«ï¼š",
                options: [
                    { value: "A", text: "æè¿°ç†æƒ³ä¸–ç•Œå’Œå…¬å¸é¡˜æ™¯", type: "A" },
                    { value: "B", text: "æ‹¿å‡ºå®Œæ•´é‡Œç¨‹ç¢‘å’ŒKPI", type: "B" },
                    { value: "C", text: "å±•ç¤ºExcelæ¨¡å‹å’Œé¢¨éšªåˆ†æ", type: "C" },
                    { value: "D", text: "å¼·èª¿åˆä½œå¤¥ä¼´èˆ‡å¸‚å ´æ©Ÿæœƒ", type: "D" }
                ]
            },
            {
                id: 6,
                text: "é¢å°å¤±æ•—ï¼Œä½ æœƒï¼š",
                options: [
                    { value: "A", text: "ç•¶ä½œæ•…äº‹çš„ä¸€éƒ¨åˆ†ï¼Œç¹¼çºŒå®£å‚³", type: "A" },
                    { value: "B", text: "å¿«é€Ÿæ­¸ç´å•é¡Œã€ç«‹åˆ»å†è©¦", type: "B" },
                    { value: "C", text: "å¯«å ±å‘Šåˆ†æåŸå› ,ä¸‹æ¬¡é¿é–‹", type: "C" },
                    { value: "D", text: "è·Ÿæœ‹å‹èšæœƒåè‹¦æ°´ï¼Œé †ä¾¿æ‰¾æ–°æ©Ÿæœƒ", type: "D" }
                ]
            },
            {
                id: 7,
                text: "è‹¥ä½ èƒ½é›‡ä¸€å€‹äººå¹«å¿™ï¼Œæœƒé¸ï¼š",
                options: [
                    { value: "A", text: "è¨­è¨ˆå¸«æˆ–å“ç‰Œé¡§å•", type: "A" },
                    { value: "B", text: "ç‡Ÿé‹é•·æˆ–å°ˆæ¡ˆç¶“ç†", type: "B" },
                    { value: "C", text: "è²¡å‹™æˆ–ç­–ç•¥é¡§å•", type: "C" },
                    { value: "D", text: "å…¬é—œæˆ–ç¤¾ç¾¤ç¶“ç†", type: "D" }
                ]
            },
            {
                id: 8,
                text: "ä½ å°ã€Œå‰µæ¥­æˆåŠŸã€çš„å®šç¾©æ˜¯ï¼š",
                options: [
                    { value: "A", text: "æ”¹è®Šä¸–ç•Œã€ç•™ä¸‹åå­—", type: "A" },
                    { value: "B", text: "å…¬å¸ç©©å®šã€å“¡å·¥å¹¸ç¦", type: "B" },
                    { value: "C", text: "ç²¾æº–æ§åˆ¶å¸‚å ´èˆ‡æˆé•·æ›²ç·š", type: "C" },
                    { value: "D", text: "æœ‰å½±éŸ¿åŠ›ã€èªè­˜è¨±å¤šå²å®³çš„äºº", type: "D" }
                ]
            },
            {
                id: 9,
                text: "ç•¶ä½ æ§‹æƒ³æ–°ç”¢å“ï¼š",
                options: [
                    { value: "A", text: "å¾ã€Œé€™æ±è¥¿æœƒå¤šå¸å¼•äººã€é–‹å§‹", type: "A" },
                    { value: "B", text: "å¾ã€Œæ€éº¼ç”Ÿç”¢æœ€æœ‰æ•ˆç‡ã€é–‹å§‹", type: "B" },
                    { value: "C", text: "å¾ã€Œå¸‚å ´ç¼ºå£åœ¨å“ªã€é–‹å§‹", type: "C" },
                    { value: "D", text: "å¾ã€Œæˆ‘èƒ½æ‰¾èª°åˆä½œã€é–‹å§‹", type: "D" }
                ]
            },
            {
                id: 10,
                text: "ä½ å–œæ­¡çš„å·¥ä½œç’°å¢ƒï¼š",
                options: [
                    { value: "A", text: "å……æ»¿å‰µæ„èˆ‡è‡ªç”±", type: "A" },
                    { value: "B", text: "æ¢ç†åˆ†æ˜ã€é€²åº¦æ˜ç¢º", type: "B" },
                    { value: "C", text: "å®‰éœã€å¯æ€è€ƒèˆ‡åˆ†æ", type: "C" },
                    { value: "D", text: "ç†±é¬§ã€æœ‰å¾ˆå¤šäººäº’å‹•", type: "D" }
                ]
            },
            {
                id: 11,
                text: "ç•¶åˆ¥äººæ‰¹è©•ä½ çš„é»å­ï¼š",
                options: [
                    { value: "A", text: "è¦ºå¾—ä»–å€‘ä¸æ‡‚å¤¢æƒ³", type: "A" },
                    { value: "B", text: "è¨˜ä¸‹ä¾†æ”¹é€²", type: "B" },
                    { value: "C", text: "å•ã€Œä¾æ“šæ˜¯ä»€éº¼ï¼Ÿã€", type: "C" },
                    { value: "D", text: "å˜—è©¦å¾ä»–èº«ä¸Šæ‰¾æ”¯æŒ", type: "D" }
                ]
            },
            {
                id: 12,
                text: "ä½ çš„æœ€å¤§å„ªå‹¢æ˜¯ï¼š",
                options: [
                    { value: "A", text: "æ¿€å‹µäººã€è®“äººç›¸ä¿¡", type: "A" },
                    { value: "B", text: "åŸ·è¡Œå¿«ã€æœ‰ç´€å¾‹", type: "B" },
                    { value: "C", text: "çœ‹å¾—é ã€åˆ†ææº–", type: "C" },
                    { value: "D", text: "äººè„ˆå»£ã€æœƒè¬›è©±", type: "D" }
                ]
            }
        ];

        // å¾ localStorage è¼‰å…¥æˆ–ä½¿ç”¨é»˜èªé¡Œç›®
        function loadQuestions() {
            const saved = localStorage.getItem('quizQuestions');
            return saved ? JSON.parse(saved) : defaultQuestions;
        }

        // ä¿å­˜é¡Œç›®åˆ° localStorage
        function saveQuestions(questions) {
            localStorage.setItem('quizQuestions', JSON.stringify(questions));
        }

        let currentQuestions = loadQuestions();

        function startQuiz() {
            document.getElementById('intro').style.display = 'none';
            document.getElementById('quiz').style.display = 'block';
            smoothScrollToTop();
            updateProgress();
        }

        function smoothScrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function updateProgress() {
            const form = document.getElementById('quizForm');
            let answeredCount = 0;
            const totalQuestions = currentQuestions.length;

            currentQuestions.forEach(q => {
                const answer = form.querySelector(`input[name="q${q.id}"]:checked`);
                if (answer) answeredCount++;
            });

            const percentage = (answeredCount / totalQuestions) * 100;
            document.getElementById('progressBar').style.width = percentage + '%';
        }

        // åˆå§‹åŒ–é¸é …ç›£è½å™¨
        function initializeOptionListeners() {
            const allRadios = document.querySelectorAll('input[type="radio"]');
            allRadios.forEach(radio => {
                radio.addEventListener('change', updateProgress);
            });

            // è®“æ•´å€‹é¸é …å¡ç‰‡å¯é»æ“Š
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.addEventListener('click', function(e) {
                    // å¦‚æœé»æ“Šçš„ä¸æ˜¯ radio button æˆ– labelï¼Œæ‰‹å‹•é¸ä¸­
                    if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'LABEL') {
                        const radio = this.querySelector('input[type="radio"]');
                        if (radio) {
                            radio.checked = true;
                            updateProgress();
                        }
                    }
                });
            });

            // æ·»åŠ è§¸æ‘¸åé¥‹
            if ('ontouchstart' in window) {
                options.forEach(option => {
                    option.addEventListener('touchstart', function() {
                        this.style.opacity = '0.7';
                    }, { passive: true });

                    option.addEventListener('touchend', function() {
                        this.style.opacity = '1';
                    }, { passive: true });
                });

                const buttons = document.querySelectorAll('.btn');
                buttons.forEach(btn => {
                    btn.addEventListener('touchstart', function() {
                        this.style.opacity = '0.8';
                    }, { passive: true });

                    btn.addEventListener('touchend', function() {
                        this.style.opacity = '1';
                    }, { passive: true });
                });
            }
        }

        // é é¢è¼‰å…¥æ™‚åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', async function() {
            // å…ˆå˜—è©¦å¾é›²ç«¯æ‹‰å–æœ€æ–°è³‡æ–™
            await autoSyncOnLoad();

            // æª¢æŸ¥æ˜¯å¦æœ‰è‡ªå®šç¾©é¡Œç›®
            const saved = localStorage.getItem('quizQuestions');
            if (saved) {
                currentQuestions = JSON.parse(saved);
                regenerateQuizForm();
            }

            // åˆå§‹åŒ–ç›£è½å™¨
            initializeOptionListeners();
        });

        // é é¢è¼‰å…¥æ™‚è‡ªå‹•åŒæ­¥
        async function autoSyncOnLoad() {
            const token = localStorage.getItem('githubToken');
            const gistId = localStorage.getItem('gistId');

            // å¦‚æœæ²’æœ‰è¨­å®š Token æˆ– Gist IDï¼Œå‰‡è·³éè‡ªå‹•åŒæ­¥
            if (!token || !gistId) {
                console.log('æœªè¨­å®š GitHub Token æˆ– Gist IDï¼Œè·³éè‡ªå‹•åŒæ­¥');
                return;
            }

            try {
                const response = await fetch(`https://api.github.com/gists/${gistId}`, {
                    headers: {
                        'Authorization': `token ${token}`,
                        'Accept': 'application/vnd.github.v3+json'
                    }
                });

                if (!response.ok) {
                    console.error('è‡ªå‹•åŒæ­¥å¤±æ•—:', response.status, response.statusText);
                    return;
                }

                const gist = await response.json();

                // æ‹‰å–é¡Œç›®
                if (gist.files['quiz-questions.json']) {
                    const questionsContent = gist.files['quiz-questions.json'].content;
                    const questions = JSON.parse(questionsContent);
                    currentQuestions = questions;
                    saveQuestions(currentQuestions);
                    console.log(`âœ… è‡ªå‹•åŒæ­¥æˆåŠŸï¼šå·²è¼‰å…¥ ${currentQuestions.length} é“é¡Œç›®`);
                }

                // æ‹‰å–å¯†ç¢¼é›œæ¹Š
                if (gist.files['admin-password.json']) {
                    const passwordContent = gist.files['admin-password.json'].content;
                    const passwordData = JSON.parse(passwordContent);
                    localStorage.setItem('adminPasswordHash', passwordData.passwordHash);
                    console.log('âœ… å·²åŒæ­¥ç®¡ç†å¯†ç¢¼');
                }
            } catch (error) {
                console.error('è‡ªå‹•åŒæ­¥å¤±æ•—:', error);
                // å¤±æ•—æ™‚ä¸é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ï¼Œéœé»˜å¤±æ•—ï¼Œä½¿ç”¨æœ¬åœ°è³‡æ–™
            }
        }

        function calculateResult() {
            const form = document.getElementById('quizForm');
            const scores = { A: 0, B: 0, C: 0, D: 0 };

            // æª¢æŸ¥æ˜¯å¦æ‰€æœ‰å•é¡Œéƒ½å·²å›ç­”ï¼ˆä½¿ç”¨å¯¦éš›çš„é¡Œç›® IDï¼‰
            const totalQuestions = currentQuestions.length;
            let answeredCount = 0;

            for (let i = 0; i < currentQuestions.length; i++) {
                const q = currentQuestions[i];
                const answer = form.querySelector(`input[name="q${q.id}"]:checked`);
                if (!answer) {
                    alert(`è«‹å›ç­”ç¬¬ ${i + 1} é¡Œ`);
                    return;
                }

                // æ ¹æ“šé¸é …çš„ type è€Œé value ä¾†è¨ˆåˆ†
                const selectedValue = answer.value;
                const selectedOption = q.options.find(opt => opt.value === selectedValue);
                const personalityType = selectedOption.type || selectedValue; // å‘å¾Œå…¼å®¹

                scores[personalityType]++;
                answeredCount++;
            }

            // æ‰¾å‡ºæœ€é«˜åˆ†å’Œæ¬¡é«˜åˆ†
            const sortedScores = Object.entries(scores).sort((a, b) => b[1] - a[1]);
            const primaryType = sortedScores[0][0];
            const primaryScore = sortedScores[0][1];
            const secondaryType = sortedScores[1][0];
            const secondaryScore = sortedScores[1][1];

            // åˆ¤æ–·æ˜¯å¦ç‚ºæ··åˆå‹ï¼ˆæ ¹æ“šé¡Œç›®æ•¸é‡å‹•æ…‹èª¿æ•´é–¾å€¼ï¼‰
            // 12é¡Œå·®2åˆ† = 16.7%ï¼Œæ‰€ä»¥ç”¨ 20% ä½œç‚ºé–¾å€¼
            const mixedThreshold = Math.ceil(totalQuestions * 0.2);
            const isMixed = (primaryScore - secondaryScore) <= mixedThreshold;

            // é¡¯ç¤ºçµæœ
            displayResult(primaryType, secondaryType, isMixed, scores, totalQuestions);
        }

        function displayResult(primaryType, secondaryType, isMixed, scores, totalQuestions) {
            document.getElementById('quiz').style.display = 'none';
            document.getElementById('result').style.display = 'block';
            smoothScrollToTop();

            // è¨­ç½®æ¨™é¡Œ
            const resultTypeEl = document.getElementById('resultType');
            const resultSubtitleEl = document.getElementById('resultSubtitle');

            if (isMixed) {
                resultTypeEl.textContent = `${typeInfo[primaryType].emoji} ${typeInfo[primaryType].name} + ${typeInfo[secondaryType].name}`;
                resultSubtitleEl.textContent = 'æ··åˆå‹å‰µæ¥­è€…';
            } else {
                resultTypeEl.textContent = `${typeInfo[primaryType].emoji} ${typeInfo[primaryType].name}`;
                resultSubtitleEl.textContent = 'ä½ çš„å‰µæ¥­äººæ ¼é¡å‹';
            }

            // ç¹ªè£½åˆ†æ•¸æ¢
            const scoreBarEl = document.getElementById('scoreBar');
            scoreBarEl.innerHTML = '';

            const typeLabels = {
                A: 'å¤¢æƒ³å‹ Visionary',
                B: 'å¯¦å¹¹å‹ Builder',
                C: 'ç­–ç•¥å‹ Strategist',
                D: 'ç¤¾äº¤å‹ Connector'
            };

            Object.entries(scores).forEach(([type, score]) => {
                const percentage = (score / totalQuestions) * 100;
                const scoreItem = document.createElement('div');
                scoreItem.className = 'score-item';
                scoreItem.innerHTML = `
                    <div class="score-label">
                        <span>${typeLabels[type]}</span>
                        <span>${score}/${totalQuestions}</span>
                    </div>
                    <div class="bar">
                        <div class="bar-fill type-${type.toLowerCase()}" style="width: ${percentage}%">
                            ${score > 0 ? score : ''}
                        </div>
                    </div>
                `;
                scoreBarEl.appendChild(scoreItem);
            });

            // é¡¯ç¤ºé¡å‹æè¿°
            const descriptionEl = document.getElementById('typeDescription');
            if (isMixed) {
                descriptionEl.innerHTML = `
                    <p><strong>${typeInfo[primaryType].name}ï¼š</strong>${typeInfo[primaryType].description}</p>
                    <p style="margin-top: 15px;"><strong>${typeInfo[secondaryType].name}ï¼š</strong>${typeInfo[secondaryType].description}</p>
                    <div class="note" style="margin-top: 20px;">
                        ä½ æ˜¯æ··åˆå‹å‰µæ¥­è€…ï¼ä½ åŒæ™‚å…·å‚™é€™å…©ç¨®é¡å‹çš„ç‰¹è³ªï¼Œé€™è®“ä½ æ›´åŠ å…¨é¢å’Œéˆæ´»ã€‚å–„ç”¨é€™å€‹å„ªå‹¢ï¼Œä½ å¯ä»¥åœ¨ä¸åŒæƒ…å¢ƒä¸‹åˆ‡æ›ä¸åŒçš„æ¨¡å¼ã€‚
                    </div>
                `;
            } else {
                descriptionEl.innerHTML = `<p>${typeInfo[primaryType].description}</p>`;
            }
        }

        function resetQuiz() {
            document.getElementById('result').style.display = 'none';
            document.getElementById('intro').style.display = 'block';
            document.getElementById('quizForm').reset();
            document.getElementById('progressBar').style.width = '0%';
            smoothScrollToTop();
        }

        // ========== ç®¡ç†æ¨¡å¼åŠŸèƒ½ ==========

        // SHA-256 é›œæ¹Šå‡½æ•¸
        async function sha256(message) {
            const msgBuffer = new TextEncoder().encode(message);
            const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
            return hashHex;
        }

        // é¡¯ç¤ºç®¡ç†å“¡ç™»å…¥å°è©±æ¡†
        function showAdminLogin() {
            document.getElementById('adminOverlay').style.display = 'block';
            document.getElementById('adminPassword').value = '';
            document.getElementById('adminPassword').focus();
        }

        // é—œé–‰ç™»å…¥å°è©±æ¡†
        function closeAdminLogin() {
            document.getElementById('adminOverlay').style.display = 'none';
        }

        // é©—è­‰ç®¡ç†å“¡å¯†ç¢¼
        async function verifyAdminPassword() {
            const password = document.getElementById('adminPassword').value;
            const passwordHash = await sha256(password);

            // é è¨­å¯†ç¢¼ 12345 çš„ SHA-256
            const defaultHash = '5994471abb01112afcc18159f6cc74b4f511b99806da59b3caf5a9c173cacfc5';

            // åªæœ‰åœ¨è¨­å®šäº† Gist çš„æƒ…æ³ä¸‹æ‰ä½¿ç”¨ localStorage çš„å¯†ç¢¼
            const gistId = localStorage.getItem('gistId');
            const savedHash = gistId ? (localStorage.getItem('adminPasswordHash') || defaultHash) : defaultHash;

            if (passwordHash === savedHash) {
                closeAdminLogin();
                enterAdminMode();
            } else {
                alert('å¯†ç¢¼éŒ¯èª¤ï¼');
                document.getElementById('adminPassword').value = '';
            }
        }

        // é€²å…¥ç®¡ç†æ¨¡å¼
        function enterAdminMode() {
            document.getElementById('adminPanel').style.display = 'block';
            loadGitHubConfig();
            renderAdminQuestions();
        }

        // é€€å‡ºç®¡ç†æ¨¡å¼
        function exitAdminMode() {
            if (confirm('ç¢ºå®šè¦é€€å‡ºç®¡ç†æ¨¡å¼å—ï¼Ÿ')) {
                document.getElementById('adminPanel').style.display = 'none';
                // é‡æ–°è¼‰å…¥é é¢ä»¥æ‡‰ç”¨æ›´æ”¹
                location.reload();
            }
        }

        // é‡ç½®ç‚ºé è¨­é¡Œç›®
        function resetToDefault() {
            if (confirm('ç¢ºå®šè¦é‡ç½®ç‚ºé è¨­é¡Œç›®å—ï¼Ÿæ‰€æœ‰è‡ªè¨‚é¡Œç›®å°‡è¢«æ¸…é™¤ï¼')) {
                localStorage.removeItem('quizQuestions');
                currentQuestions = [...defaultQuestions];
                saveQuestions(currentQuestions);
                renderAdminQuestions();
                alert('å·²é‡ç½®ç‚ºé è¨­é¡Œç›®ï¼');
            }
        }

        // ========== GitHub Gist åŒæ­¥åŠŸèƒ½ ==========

        // è¼‰å…¥ GitHub è¨­å®š
        function loadGitHubConfig() {
            const token = localStorage.getItem('githubToken');
            const gistId = localStorage.getItem('gistId');
            if (token) document.getElementById('githubToken').value = token;
            if (gistId) document.getElementById('gistId').value = gistId;
        }

        // å„²å­˜ GitHub è¨­å®š
        function saveGitHubConfig() {
            const token = document.getElementById('githubToken').value.trim();
            const gistId = document.getElementById('gistId').value.trim();

            if (!token) {
                showSyncStatus('è«‹è¼¸å…¥ GitHub Tokenï¼', 'error');
                return;
            }

            localStorage.setItem('githubToken', token);
            if (gistId) {
                localStorage.setItem('gistId', gistId);
            }

            showSyncStatus('è¨­å®šå·²å„²å­˜ï¼', 'success');
        }

        // é¡¯ç¤ºåŒæ­¥ç‹€æ…‹
        function showSyncStatus(message, type = 'info') {
            const statusDiv = document.getElementById('syncStatus');
            statusDiv.className = `sync-status ${type}`;
            statusDiv.textContent = message;
            statusDiv.style.display = 'block';

            if (type === 'success') {
                setTimeout(() => {
                    statusDiv.style.display = 'none';
                }, 3000);
            }
        }

        // ä¿®æ”¹ç®¡ç†å¯†ç¢¼
        async function changeAdminPassword() {
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const statusDiv = document.getElementById('passwordStatus');

            // æª¢æŸ¥æ˜¯å¦å·²è¨­å®š Gist
            const token = localStorage.getItem('githubToken');
            const gistId = localStorage.getItem('gistId');

            if (!token || !gistId) {
                statusDiv.className = 'sync-status error';
                statusDiv.textContent = 'âŒ è«‹å…ˆè¨­å®š GitHub Token å’Œ Gist ID æ‰èƒ½ä¿®æ”¹å¯†ç¢¼ï¼';
                statusDiv.style.display = 'block';
                return;
            }

            if (!currentPassword || !newPassword || !confirmPassword) {
                statusDiv.className = 'sync-status error';
                statusDiv.textContent = 'è«‹å¡«å¯«æ‰€æœ‰æ¬„ä½ï¼';
                statusDiv.style.display = 'block';
                return;
            }

            // é©—è­‰ç•¶å‰å¯†ç¢¼
            const currentPasswordHash = await sha256(currentPassword);
            const defaultHash = '5994471abb01112afcc18159f6cc74b4f511b99806da59b3caf5a9c173cacfc5'; // 12345
            const savedHash = localStorage.getItem('adminPasswordHash') || defaultHash;

            if (currentPasswordHash !== savedHash) {
                statusDiv.className = 'sync-status error';
                statusDiv.textContent = 'ç•¶å‰å¯†ç¢¼éŒ¯èª¤ï¼';
                statusDiv.style.display = 'block';
                return;
            }

            if (newPassword !== confirmPassword) {
                statusDiv.className = 'sync-status error';
                statusDiv.textContent = 'æ–°å¯†ç¢¼èˆ‡ç¢ºèªå¯†ç¢¼ä¸ç¬¦ï¼';
                statusDiv.style.display = 'block';
                return;
            }

            if (newPassword.length < 4) {
                statusDiv.className = 'sync-status error';
                statusDiv.textContent = 'å¯†ç¢¼é•·åº¦è‡³å°‘éœ€è¦ 4 å€‹å­—å…ƒï¼';
                statusDiv.style.display = 'block';
                return;
            }

            // å°‡æ–°å¯†ç¢¼é›œæ¹Šå¾Œå„²å­˜
            const newPasswordHash = await sha256(newPassword);
            localStorage.setItem('adminPasswordHash', newPasswordHash);

            statusDiv.className = 'sync-status success';
            statusDiv.textContent = 'âœ… å¯†ç¢¼å·²æˆåŠŸæ›´æ”¹ï¼æ­£åœ¨æ¨é€åˆ°é›²ç«¯...';
            statusDiv.style.display = 'block';

            document.getElementById('currentPassword').value = '';
            document.getElementById('newPassword').value = '';
            document.getElementById('confirmPassword').value = '';

            // è‡ªå‹•æ¨é€å¯†ç¢¼åˆ°é›²ç«¯
            await pushPasswordToGist();
        }

        // å¾ Gist æ‹‰å–é¡Œç›®å’Œå¯†ç¢¼
        async function pullFromGist() {
            const token = localStorage.getItem('githubToken');
            const gistId = localStorage.getItem('gistId');

            if (!token) {
                showSyncStatus('è«‹å…ˆè¨­å®š GitHub Tokenï¼', 'error');
                return;
            }

            if (!gistId) {
                showSyncStatus('è«‹å…ˆæ¨é€é¡Œç›®åˆ°é›²ç«¯æˆ–è¼¸å…¥ç¾æœ‰çš„ Gist IDï¼', 'error');
                return;
            }

            showSyncStatus('æ­£åœ¨å¾é›²ç«¯æ‹‰å–è³‡æ–™...', 'info');

            try {
                const response = await fetch(`https://api.github.com/gists/${gistId}`, {
                    headers: {
                        'Authorization': `token ${token}`,
                        'Accept': 'application/vnd.github.v3+json'
                    }
                });

                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }

                const gist = await response.json();

                // æ‹‰å–é¡Œç›®
                if (gist.files['quiz-questions.json']) {
                    const questionsContent = gist.files['quiz-questions.json'].content;
                    const questions = JSON.parse(questionsContent);
                    currentQuestions = questions;
                    saveQuestions(currentQuestions);
                    renderAdminQuestions();
                }

                // æ‹‰å–å¯†ç¢¼é›œæ¹Š
                if (gist.files['admin-password.json']) {
                    const passwordContent = gist.files['admin-password.json'].content;
                    const passwordData = JSON.parse(passwordContent);
                    localStorage.setItem('adminPasswordHash', passwordData.passwordHash);
                }

                showSyncStatus(`âœ… æˆåŠŸæ‹‰å– ${currentQuestions.length} é“é¡Œç›®å’Œå¯†ç¢¼è¨­å®šï¼`, 'success');
            } catch (error) {
                console.error('æ‹‰å–å¤±æ•—:', error);
                showSyncStatus(`âŒ æ‹‰å–å¤±æ•—: ${error.message}`, 'error');
            }
        }

        // æ¨é€é¡Œç›®å’Œå¯†ç¢¼åˆ° Gist
        async function pushToGist() {
            const token = localStorage.getItem('githubToken');
            let gistId = localStorage.getItem('gistId');

            if (!token) {
                showSyncStatus('è«‹å…ˆè¨­å®š GitHub Tokenï¼', 'error');
                return;
            }

            showSyncStatus('æ­£åœ¨æ¨é€è³‡æ–™åˆ°é›²ç«¯...', 'info');

            const defaultHash = '5994471abb01112afcc18159f6cc74b4f511b99806da59b3caf5a9c173cacfc5'; // 12345
            const passwordHash = localStorage.getItem('adminPasswordHash') || defaultHash;

            const gistData = {
                description: 'å‰µæ¥­äººæ ¼å¿ƒç†æ¸¬é©— - é¡Œç›®æ•¸æ“šèˆ‡ç®¡ç†å¯†ç¢¼',
                public: false,
                files: {
                    'quiz-questions.json': {
                        content: JSON.stringify(currentQuestions, null, 2)
                    },
                    'admin-password.json': {
                        content: JSON.stringify({
                            passwordHash: passwordHash,
                            lastUpdated: new Date().toISOString()
                        }, null, 2)
                    }
                }
            };

            try {
                let response;

                if (gistId) {
                    // æ›´æ–°ç¾æœ‰ Gist
                    response = await fetch(`https://api.github.com/gists/${gistId}`, {
                        method: 'PATCH',
                        headers: {
                            'Authorization': `token ${token}`,
                            'Accept': 'application/vnd.github.v3+json',
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(gistData)
                    });
                } else {
                    // å‰µå»ºæ–° Gist
                    response = await fetch('https://api.github.com/gists', {
                        method: 'POST',
                        headers: {
                            'Authorization': `token ${token}`,
                            'Accept': 'application/vnd.github.v3+json',
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(gistData)
                    });
                }

                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }

                const result = await response.json();

                // å„²å­˜ Gist ID
                if (!gistId) {
                    gistId = result.id;
                    localStorage.setItem('gistId', gistId);
                    document.getElementById('gistId').value = gistId;
                    showSyncStatus(`âœ… å·²å‰µå»ºé›²ç«¯åŒæ­¥ï¼Gist ID: ${gistId}\næˆåŠŸæ¨é€ ${currentQuestions.length} é“é¡Œç›®å’Œå¯†ç¢¼è¨­å®šï¼`, 'success');
                } else {
                    showSyncStatus(`âœ… æˆåŠŸæ¨é€ ${currentQuestions.length} é“é¡Œç›®å’Œå¯†ç¢¼è¨­å®šåˆ°é›²ç«¯ï¼`, 'success');
                }
            } catch (error) {
                console.error('æ¨é€å¤±æ•—:', error);
                showSyncStatus(`âŒ æ¨é€å¤±æ•—: ${error.message}`, 'error');
            }
        }

        // å–®ç¨æ¨é€å¯†ç¢¼åˆ° Gist (ä¿®æ”¹å¯†ç¢¼æ™‚ä½¿ç”¨)
        async function pushPasswordToGist() {
            const token = localStorage.getItem('githubToken');
            const gistId = localStorage.getItem('gistId');

            if (!token || !gistId) {
                document.getElementById('passwordStatus').textContent += '\nâš ï¸ å¯†ç¢¼å·²åœ¨æœ¬åœ°æ›´æ”¹ï¼Œä½†æœªæ¨é€åˆ°é›²ç«¯ï¼ˆè«‹å…ˆè¨­å®š GitHub Token å’Œ Gist IDï¼‰';
                return;
            }

            const defaultHash = '5994471abb01112afcc18159f6cc74b4f511b99806da59b3caf5a9c173cacfc5';
            const passwordHash = localStorage.getItem('adminPasswordHash') || defaultHash;

            try {
                const response = await fetch(`https://api.github.com/gists/${gistId}`, {
                    method: 'PATCH',
                    headers: {
                        'Authorization': `token ${token}`,
                        'Accept': 'application/vnd.github.v3+json',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        files: {
                            'admin-password.json': {
                                content: JSON.stringify({
                                    passwordHash: passwordHash,
                                    lastUpdated: new Date().toISOString()
                                }, null, 2)
                            }
                        }
                    })
                });

                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }

                const statusDiv = document.getElementById('passwordStatus');
                statusDiv.textContent = 'âœ… å¯†ç¢¼å·²æˆåŠŸæ›´æ”¹ä¸¦åŒæ­¥åˆ°é›²ç«¯ï¼';

                setTimeout(() => {
                    statusDiv.style.display = 'none';
                }, 3000);
            } catch (error) {
                console.error('æ¨é€å¯†ç¢¼å¤±æ•—:', error);
                document.getElementById('passwordStatus').textContent += `\nâš ï¸ å¯†ç¢¼å·²åœ¨æœ¬åœ°æ›´æ”¹ï¼Œä½†æ¨é€åˆ°é›²ç«¯å¤±æ•—: ${error.message}`;
            }
        }

        // æ¸²æŸ“ç®¡ç†ç•Œé¢çš„é¡Œç›®åˆ—è¡¨
        function renderAdminQuestions() {
            const container = document.getElementById('adminContent');
            container.innerHTML = '';

            const typeOptions = `
                <option value="A">A - å¤¢æƒ³å‹</option>
                <option value="B">B - å¯¦å¹¹å‹</option>
                <option value="C">C - ç­–ç•¥å‹</option>
                <option value="D">D - ç¤¾äº¤å‹</option>
            `;

            currentQuestions.forEach((q, index) => {
                const questionHTML = `
                    <div class="question-item">
                        <h3 style="margin-bottom: 16px; color: #1e40af;">å•é¡Œ ${index + 1}</h3>
                        <textarea placeholder="é¡Œç›®æ–‡å­—" data-id="${q.id}" data-field="text">${q.text}</textarea>

                        <div class="option-input-group">
                            <label>é¸é … A:</label>
                            <input type="text" placeholder="é¸é …æ–‡å­—" value="${q.options[0].text}" data-id="${q.id}" data-option="0">
                            <select data-id="${q.id}" data-option="0" data-field="type">
                                ${typeOptions}
                            </select>
                        </div>
                        <div class="option-input-group">
                            <label>é¸é … B:</label>
                            <input type="text" placeholder="é¸é …æ–‡å­—" value="${q.options[1].text}" data-id="${q.id}" data-option="1">
                            <select data-id="${q.id}" data-option="1" data-field="type">
                                ${typeOptions}
                            </select>
                        </div>
                        <div class="option-input-group">
                            <label>é¸é … C:</label>
                            <input type="text" placeholder="é¸é …æ–‡å­—" value="${q.options[2].text}" data-id="${q.id}" data-option="2">
                            <select data-id="${q.id}" data-option="2" data-field="type">
                                ${typeOptions}
                            </select>
                        </div>
                        <div class="option-input-group">
                            <label>é¸é … D:</label>
                            <input type="text" placeholder="é¸é …æ–‡å­—" value="${q.options[3].text}" data-id="${q.id}" data-option="3">
                            <select data-id="${q.id}" data-option="3" data-field="type">
                                ${typeOptions}
                            </select>
                        </div>

                        <div class="admin-actions">
                            <button class="btn btn-success" onclick="saveQuestion(${q.id})">ğŸ’¾ å„²å­˜</button>
                            <button class="btn btn-danger" onclick="deleteQuestion(${q.id})">ğŸ—‘ï¸ åˆªé™¤</button>
                        </div>
                    </div>
                `;
                container.innerHTML += questionHTML;

                // è¨­ç½®é¸ä¸­çš„å€¼
                setTimeout(() => {
                    for (let i = 0; i < 4; i++) {
                        const select = document.querySelector(`select[data-id="${q.id}"][data-option="${i}"]`);
                        if (select && q.options[i]) {
                            select.value = q.options[i].type || q.options[i].value;
                        }
                    }
                }, 0);
            });
        }

        // å„²å­˜å–®å€‹é¡Œç›®çš„æ›´æ”¹
        function saveQuestion(questionId) {
            const questionIndex = currentQuestions.findIndex(q => q.id === questionId);
            if (questionIndex === -1) return;

            const textArea = document.querySelector(`textarea[data-id="${questionId}"]`);
            const optionInputs = document.querySelectorAll(`input[data-id="${questionId}"]`);
            const typeSelects = document.querySelectorAll(`select[data-id="${questionId}"][data-field="type"]`);

            currentQuestions[questionIndex].text = textArea.value;

            // ä¿å­˜é¸é …æ–‡å­—å’Œå°æ‡‰äººæ ¼é¡å‹
            optionInputs.forEach(input => {
                const optionIndex = parseInt(input.dataset.option);
                currentQuestions[questionIndex].options[optionIndex].text = input.value;
            });

            typeSelects.forEach(select => {
                const optionIndex = parseInt(select.dataset.option);
                currentQuestions[questionIndex].options[optionIndex].type = select.value;
            });

            saveQuestions(currentQuestions);
            alert('é¡Œç›®å·²å„²å­˜ï¼');
        }

        // åˆªé™¤é¡Œç›®
        function deleteQuestion(questionId) {
            if (!confirm('ç¢ºå®šè¦åˆªé™¤é€™å€‹é¡Œç›®å—ï¼Ÿ')) return;

            currentQuestions = currentQuestions.filter(q => q.id !== questionId);
            // é‡æ–°ç·¨è™Ÿ
            currentQuestions.forEach((q, index) => {
                q.id = index + 1;
            });

            saveQuestions(currentQuestions);
            renderAdminQuestions();
            alert('é¡Œç›®å·²åˆªé™¤ï¼');
        }

        // æ–°å¢é¡Œç›®
        function addNewQuestion() {
            const newId = currentQuestions.length > 0 ? Math.max(...currentQuestions.map(q => q.id)) + 1 : 1;
            const newQuestion = {
                id: newId,
                text: "æ–°é¡Œç›®ï¼ˆè«‹ç·¨è¼¯ï¼‰",
                options: [
                    { value: "A", text: "é¸é … Aï¼ˆè«‹ç·¨è¼¯ï¼‰", type: "A" },
                    { value: "B", text: "é¸é … Bï¼ˆè«‹ç·¨è¼¯ï¼‰", type: "B" },
                    { value: "C", text: "é¸é … Cï¼ˆè«‹ç·¨è¼¯ï¼‰", type: "C" },
                    { value: "D", text: "é¸é … Dï¼ˆè«‹ç·¨è¼¯ï¼‰", type: "D" }
                ]
            };

            currentQuestions.push(newQuestion);
            saveQuestions(currentQuestions);
            renderAdminQuestions();

            // æ»¾å‹•åˆ°æ–°é¡Œç›®
            setTimeout(() => {
                const items = document.querySelectorAll('.question-item');
                items[items.length - 1].scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 100);
        }

        // é‡æ–°ç”Ÿæˆæ¸¬é©—è¡¨å–®ï¼ˆç•¶é¡Œç›®æ•¸é‡æ”¹è®Šæ™‚ï¼‰
        function regenerateQuizForm() {
            const form = document.getElementById('quizForm');
            form.innerHTML = '';

            currentQuestions.forEach((q, index) => {
                const questionHTML = `
                    <div class="question">
                        <h3><span class="question-number">Q${index + 1}</span>${q.text}</h3>
                        <div class="options">
                            ${q.options.map(opt => `
                                <div class="option">
                                    <input type="radio" name="q${q.id}" value="${opt.value}" id="q${q.id}${opt.value.toLowerCase()}">
                                    <label for="q${q.id}${opt.value.toLowerCase()}">${opt.text}</label>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                form.innerHTML += questionHTML;
            });

            form.innerHTML += '<button type="button" class="btn" onclick="calculateResult()">æŸ¥çœ‹çµæœ</button>';

            // é‡æ–°åˆå§‹åŒ–ç›£è½å™¨
            initializeOptionListeners();
        }

        // æŒ‰ Enter éµæäº¤å¯†ç¢¼
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && document.getElementById('adminOverlay').style.display === 'block') {
                verifyAdminPassword();
            }
        });
    </script>
</body>
</html>